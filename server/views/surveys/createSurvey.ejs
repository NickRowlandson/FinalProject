<!-- Create Survey Page -->

<% include ../partials/header.ejs %>

	<main class="row">
		<h3><strong>Create Survey</strong></h3>
		<div class="col s6">
			<form method="post">

					<label for="name">Survey Name: *</label>
					<input name="name" type="text" class="form-control" required autofocus />

					<label for="description">Description: *</label>
					<input name="description" type="text" class="form-control" required />
					
					<select id="choose" name="type" required>
						<option value="" disabled selected>Choose survey type</option>
						<option value="True/False">True/False</option>
						<option value="Multiple Choice">Multiple Choice</option>
					</select>
					
					<div>
						<div style="display:none;" id="trueFalse">
							<a class="btn waves-effect waves-light" href="#" id="filldetails" onclick="addFields()">
								<i class="material-icons right">add</i>
								Add Question Field
							</a>
						</div>
	
						<div style="display:none;" id="multiple">
							<a class="btn waves-effect waves-light" href="#" id="filldetails" onclick="addFields()">
								<i class="material-icons right">add</i>
								Add Question Field
							</a>
						</div>
						<div id="container"/>
					</div>
					
					<button class="btn waves-effect waves-light" type="submit" name="action">Submit
						<i class="material-icons right">send</i>
					</button>

			</form>
		</div>
	</main>
 
	<script>
		function addFields(){
			var div = $('<div class="row"></div>');
			var innerDiv1 = $('<div class="col s10"></div>');
			var innerDiv2 = $('<div class="col s2"></div>');

			$(innerDiv1).append($('<label/>', {text: "Question: "}));
			var input = document.createElement("input");
			input.type = "text";
			input.name = "questions";
			input.required = true;
			$(innerDiv1).append(input);
			
			var btn = $('<a/>', {
				class: "btn-floating btn-small waves-effect waves-light red",
				click: function (event) {
					$(event.currentTarget).parent().parent().remove();
				}
			});
			btn.append('<i class="material-icons right">delete</i>');
			$(innerDiv2).append(btn);
			
			$(innerDiv2).append(document.createElement("br"));
			
			div.append(innerDiv1, innerDiv2);
			$('#container').append(div);
        }
	</script>
<% include ../partials/boot.ejs %>
<% include ../partials/footer.ejs %>