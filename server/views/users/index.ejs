<!-- User List Page (Admin Only) -->

<% include ../partials/header.ejs %>

<main class="panel panel-default">
    <h3><strong>Users(Admin Only)</strong></h3>
    <div class="panel-body">
        <div class="panel-heading">
            <a href="/users/add" title="Add User" style="color:#0079B4;"><i class="fa fa-plus-circle"></i> Add a new User</a>
        </div> <!-- panel-heading -->
        <% if (users.length > 0) { %>
            <table class="responsive-table striped">
                <thead>
                    <tr>
                        <th>User</th>
                        <th>Email</th>
                        <th>Date Created</th>
                        <th>Date Updated</th>
                        <th></th>
                    </tr>
                </thead>
                </tbody>
                <% for (var i = 0; i < users.length; i++) { %>
                <tr>
                    <td>
                        <%= users[i].displayName %>
                    </td>
                    <td>
                        <%= users[i].email %>
                    </td>
                    <td>
                        <% var date = new Date(users[i].created);
                            var dateString = date.toDateString() + " " + date.toLocaleTimeString(); %>
                        <%= dateString %>
                    </td>
                    <td>
                        <% date = new Date(users[i].updated);
                            var dateString = date.toDateString() + " " + date.toLocaleTimeString(); %>
                        <%= dateString %>
                    </td>
                    <td>
                        <a href="/users/<%= users[i]._id %>" title="Edit" class="waves-effect waves-light btn">
                            <i class="fa fa-pencil-square-o"></i>
                        </a>
                        <a href="/users/delete/<%= users[i]._id %>" title="Delete" onclick="return confirm('Are you sure you want to delete this?');" class="waves-effect waves-light btn" style="background-color:red;">
                            <i class="fa fa-trash-o"></i>
                        </a>
                    </td>   
                </tr>
                <% } %>
                </tbody>
            </table>
        <% } %>
    </div><!-- panel panel-default -->
</main>

<% include ../partials/boot.ejs %>
<% include ../partials/footer.ejs %>
